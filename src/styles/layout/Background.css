/* ===== BACKGROUND COMPONENT - SISTEMA DE DISEÑO COHERENTE ===== */

/* ========== CONTENEDOR PRINCIPAL ========== */
.background-wrapper {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  z-index: -1;
  transition: background 0.8s cubic-bezier(0.4, 0, 0.2, 1);
}

/* ========== GRADIENTES DE FONDO ========== */

/* MODO CLARO - Gradiente suave y profesional */
.background-wrapper[data-theme="light"],
.background-wrapper:not([data-theme="dark"]) {
  background: radial-gradient(
    ellipse at top left,
    #f0f9ff 0%,
    #e0f2fe 25%,
    #f8fafc 50%,
    #e2e8f0 75%,
    #f1f5f9 100%
  );
}

/* MODO OSCURO - Gradiente elegante y profundo */
.background-wrapper[data-theme="dark"] {
  background: radial-gradient(
    ellipse at top left,
    #1e293b 0%,
    #0f172a 25%,
    #0a0f1e 50%,
    #111827 75%,
    #1e293b 100%
  );
}

/* ========== SVG RESPONSIVE ========== */
.background-svg {
  width: 100%;
  height: 100%;
  display: block;
  position: absolute;
  top: 0;
  left: 0;
}

/* ========== ESTILOS BASE PARA LÍNEAS ========== */
line {
  fill: none;
  vector-effect: non-scaling-stroke;
}

/* ========== LÍNEAS ANIMADAS - MODO CLARO ========== */

/* Líneas principales con animación draw - MODO CLARO */
.background-wrapper[data-theme="light"] .line-draw,
.background-wrapper:not([data-theme="dark"]) .line-draw {
  stroke: #06cefa;
  stroke-width: 5;
  stroke-opacity: 0.35;
  stroke-linecap: round;
  stroke-linejoin: round;
  transition: stroke 0.8s ease, stroke-opacity 0.8s ease, stroke-dashoffset 2.5s cubic-bezier(0.4, 0, 0.2, 1);
  will-change: stroke-dashoffset;
}

/* Líneas con efecto pulse - Color 1 - MODO CLARO */
.background-wrapper[data-theme="light"] .line-fade-1,
.background-wrapper:not([data-theme="dark"]) .line-fade-1 {
  stroke: #0942de;
  stroke-width: 8;
  stroke-opacity: 0.25;
  stroke-linecap: round;
  stroke-linejoin: round;
  animation: pulse-light-1 4s infinite ease-in-out;
  transition: stroke 0.8s ease;
  will-change: stroke-opacity;
}

/* Líneas con efecto pulse - Color 2 - MODO CLARO */
.background-wrapper[data-theme="light"] .line-fade-2,
.background-wrapper:not([data-theme="dark"]) .line-fade-2 {
  stroke: #3b82f6;
  stroke-width: 7;
  stroke-opacity: 0.2;
  stroke-linecap: round;
  stroke-linejoin: round;
  animation: pulse-light-2 4.5s infinite ease-in-out;
  animation-delay: 0.5s;
  transition: stroke 0.8s ease;
  will-change: stroke-opacity;
}

/* ========== LÍNEAS ANIMADAS - MODO OSCURO ========== */

/* Líneas principales con animación draw - MODO OSCURO */
.background-wrapper[data-theme="dark"] .line-draw {
  stroke: #818cf8;
  stroke-width: 5;
  stroke-opacity: 0.3;
  stroke-linecap: round;
  stroke-linejoin: round;
  transition: stroke 0.8s ease, stroke-opacity 0.8s ease, stroke-dashoffset 2.5s cubic-bezier(0.4, 0, 0.2, 1);
  will-change: stroke-dashoffset;
}

/* Líneas con efecto pulse - Color 1 - MODO OSCURO */
.background-wrapper[data-theme="dark"] .line-fade-1 {
  stroke: #6366f1;
  stroke-width: 8;
  stroke-opacity: 0.22;
  stroke-linecap: round;
  stroke-linejoin: round;
  animation: pulse-dark-1 4s infinite ease-in-out;
  transition: stroke 0.8s ease;
  will-change: stroke-opacity;
}

/* Líneas con efecto pulse - Color 2 - MODO OSCURO */
.background-wrapper[data-theme="dark"] .line-fade-2 {
  stroke: #8b5cf6;
  stroke-width: 7;
  stroke-opacity: 0.18;
  stroke-linecap: round;
  stroke-linejoin: round;
  animation: pulse-dark-2 4.5s infinite ease-in-out;
  animation-delay: 0.5s;
  transition: stroke 0.8s ease;
  will-change: stroke-opacity;
}

/* ========== ANIMACIONES - MODO CLARO ========== */

@keyframes pulse-light-1 {
  0%, 100% {
    stroke-opacity: 0.15;
    transform: scale(1);
  }
  50% {
    stroke-opacity: 0.35;
    transform: scale(1.02);
  }
}

@keyframes pulse-light-2 {
  0%, 100% {
    stroke-opacity: 0.1;
    transform: scale(1);
  }
  50% {
    stroke-opacity: 0.3;
    transform: scale(1.01);
  }
}

/* ========== ANIMACIONES - MODO OSCURO ========== */

@keyframes pulse-dark-1 {
  0%, 100% {
    stroke-opacity: 0.12;
    transform: scale(1);
  }
  50% {
    stroke-opacity: 0.28;
    transform: scale(1.02);
  }
}

@keyframes pulse-dark-2 {
  0%, 100% {
    stroke-opacity: 0.08;
    transform: scale(1);
  }
  50% {
    stroke-opacity: 0.25;
    transform: scale(1.01);
  }
}

/* ========== OPTIMIZACIÓN DE RENDIMIENTO ========== */

/* Usar GPU acceleration para animaciones suaves */
.line-draw,
.line-fade,
.line-fade-1,
.line-fade-2 {
  transform: translateZ(0);
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  -moz-backface-visibility: hidden;
}

/* ========== ESTABILIZACIÓN DE ANIMACIONES ========== */

/* Evitar saltos visuales durante cambios de tema */
.background-wrapper * {
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}

/* Asegurar que las animaciones continúen durante el cambio de tema */
@keyframes maintain-animation {
  0% { opacity: 1; }
  100% { opacity: 1; }
}

/* ========== MEDIA QUERIES - RESPONSIVE ========== */

/* Tablets y dispositivos medianos */
@media (max-width: 1024px) {
  .background-wrapper[data-theme="light"] .line-draw,
  .background-wrapper:not([data-theme="dark"]) .line-draw,
  .background-wrapper[data-theme="dark"] .line-draw {
    stroke-width: 4;
  }

  .background-wrapper[data-theme="light"] .line-fade-1,
  .background-wrapper:not([data-theme="dark"]) .line-fade-1,
  .background-wrapper[data-theme="dark"] .line-fade-1 {
    stroke-width: 6;
  }

  .background-wrapper[data-theme="light"] .line-fade-2,
  .background-wrapper:not([data-theme="dark"]) .line-fade-2,
  .background-wrapper[data-theme="dark"] .line-fade-2 {
    stroke-width: 5;
  }
}

/* Dispositivos móviles */
@media (max-width: 768px) {
  .background-wrapper[data-theme="light"] .line-draw,
  .background-wrapper:not([data-theme="dark"]) .line-draw,
  .background-wrapper[data-theme="dark"] .line-draw {
    stroke-width: 3;
    stroke-opacity: 0.25;
  }

  .background-wrapper[data-theme="light"] .line-fade-1,
  .background-wrapper:not([data-theme="dark"]) .line-fade-1,
  .background-wrapper[data-theme="dark"] .line-fade-1 {
    stroke-width: 5;
    stroke-opacity: 0.2;
  }

  .background-wrapper[data-theme="light"] .line-fade-2,
  .background-wrapper:not([data-theme="dark"]) .line-fade-2,
  .background-wrapper[data-theme="dark"] .line-fade-2 {
    stroke-width: 4;
    stroke-opacity: 0.15;
  }
}

/* Modo de reducción de movimiento para accesibilidad */
@media (prefers-reduced-motion: reduce) {
  .background-wrapper {
    transition: none;
  }

  .line-draw {
    transition: none;
  }

  .line-fade-1,
  .line-fade-2 {
    animation: none;
  }
}

/* ========== SOPORTE PARA DISPOSITIVOS DE ALTO DPI ========== */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .background-wrapper[data-theme="light"] .line-draw,
  .background-wrapper:not([data-theme="dark"]) .line-draw,
  .background-wrapper[data-theme="dark"] .line-draw {
    stroke-width: 4.5;
  }
}