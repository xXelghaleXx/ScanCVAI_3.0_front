/* ===== RESPONSIVE DESIGN - 100% COMPATIBLE ===== */
/* Funciona en TODAS las resoluciones m√≥viles: 320px - 4K+ */

/* ===== GLOBAL MOBILE FIXES ===== */
@media (max-width: 767px) {
  * {
    -webkit-tap-highlight-color: transparent;
    box-sizing: border-box;
  }

  html,
  body {
    overflow-x: hidden !important;
    width: 100% !important;
    max-width: 100vw !important;
    position: relative;
  }

  /* Prevenir zoom en inputs (iOS/Android) */
  input,
  select,
  textarea,
  button {
    font-size: 16px !important;
  }

  /* Contenedores responsive */
  .app-root,
  .main-content-wrapper,
  .page-container,
  .content-with-header {
    width: 100% !important;
    max-width: 100vw !important;
    overflow-x: hidden !important;
  }

  /* === ROOT VARIABLES MOBILE === */
  :root {
    --header-height: 60px;
    --footer-height: 56px;
    --space-xs: 0.25rem;
    --space-sm: 0.5rem;
    --space-md: 0.75rem;
    --space-lg: 1rem;
    --space-xl: 1.25rem;
    --space-2xl: 1.5rem;
    --space-3xl: 2rem;
  }

  /* === WELCOME PAGE === */
  .welcome-main-wrapper {
    padding: var(--space-md) !important;
    min-height: calc(100vh - 60px - 56px) !important;
  }

  .welcome-container {
    padding: var(--space-sm) !important;
    width: 100% !important;
    max-width: 100% !important;
  }

  .welcome-content {
    gap: var(--space-lg) !important;
    width: 100% !important;
  }

  .welcome-header {
    flex-direction: column !important;
    gap: var(--space-lg) !important;
    padding: var(--space-lg) !important;
  }

  .greeting-section {
    max-width: 100% !important;
    width: 100% !important;
  }

  .greeting-text {
    font-size: clamp(1.5rem, 5vw, 2rem) !important;
    word-break: break-word;
  }

  .greeting-text .user-name {
    font-size: clamp(1.5rem, 5vw, 2rem) !important;
    display: block;
    margin-top: var(--space-xs);
  }

  .welcome-subtitle {
    font-size: 0.875rem !important;
    line-height: 1.5;
  }

  .time-section {
    text-align: left !important;
    align-items: flex-start !important;
    width: 100% !important;
    min-width: unset !important;
  }

  .current-time {
    font-size: clamp(1.25rem, 4vw, 1.75rem) !important;
  }

  .current-time::after {
    display: none !important;
  }

  .features-grid {
    grid-template-columns: 1fr !important;
    gap: var(--space-md) !important;
  }

  .feature-card {
    padding: var(--space-lg) !important;
    width: 100% !important;
  }

  .quick-actions-grid {
    grid-template-columns: 1fr !important;
    gap: var(--space-md) !important;
  }

  .stats-grid {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: var(--space-sm) !important;
  }

  .stat-card {
    padding: var(--space-md) !important;
  }

  /* === CHAT / ENTREVISTA === */
  .entrevista-container {
    padding: var(--space-sm) !important;
    gap: var(--space-md) !important;
    height: calc(100vh - 60px - 56px - 1rem) !important;
    width: 100% !important;
    max-width: 100vw !important;
  }

  .entrevista-header {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: var(--space-md) !important;
    padding: var(--space-md) !important;
  }

  .header-content-wrapper {
    width: 100% !important;
    flex-direction: row !important;
    gap: var(--space-md) !important;
  }

  .header-icon-wrapper {
    width: 40px !important;
    height: 40px !important;
    flex-shrink: 0 !important;
  }

  .header-text {
    flex: 1 !important;
    min-width: 0 !important;
  }

  .entrevista-title {
    font-size: clamp(1.125rem, 4vw, 1.5rem) !important;
    word-break: break-word !important;
    line-height: 1.3 !important;
  }

  .entrevista-subtitle {
    font-size: 0.75rem !important;
  }

  .entrevista-actions {
    width: 100% !important;
    flex-direction: column !important;
    gap: var(--space-sm) !important;
  }

  .btn-secondary-small,
  .btn-danger-small {
    width: 100% !important;
    justify-content: center !important;
    padding: var(--space-md) var(--space-lg) !important;
    min-height: 44px !important;
  }

  .chat-main-container {
    width: 100% !important;
    max-width: 100vw !important;
  }

  .chat-box {
    padding: var(--space-md) !important;
    gap: var(--space-md) !important;
    width: 100% !important;
  }

  .mensaje {
    max-width: 90% !important;
  }

  .mensaje-bubble {
    padding: var(--space-md) !important;
    font-size: 0.9375rem !important;
    word-break: break-word !important;
  }

  .avatar {
    width: 32px !important;
    height: 32px !important;
    flex-shrink: 0 !important;
  }

  .chat-input-container {
    padding: var(--space-md) !important;
    gap: var(--space-sm) !important;
    flex-wrap: nowrap !important;
  }

  .chat-input {
    min-height: 44px !important;
    font-size: 16px !important;
    padding: var(--space-md) !important;
    flex: 1 !important;
    min-width: 0 !important;
  }

  .chat-send-btn {
    width: 44px !important;
    height: 44px !important;
    min-width: 44px !important;
    flex-shrink: 0 !important;
    padding: 0 !important;
  }

  /* === SELECTOR DE CARRERAS === */
  .carrera-selector-container {
    padding: 0 !important;
    align-items: stretch !important;
  }

  .selector-content {
    max-width: 100vw !important;
    max-height: 100vh !important;
    width: 100% !important;
    height: 100% !important;
    border-radius: 0 !important;
  }

  .selector-header {
    padding: var(--space-lg) var(--space-md) !important;
  }

  .header-icon-wrapper {
    width: 48px !important;
    height: 48px !important;
  }

  .selector-title {
    font-size: clamp(1.25rem, 5vw, 1.75rem) !important;
  }

  .selector-subtitle {
    font-size: 0.875rem !important;
  }

  .search-container {
    padding: var(--space-md) !important;
  }

  .search-input {
    padding: var(--space-md) var(--space-md) var(--space-md) calc(var(--space-2xl) + var(--space-md)) !important;
    font-size: 16px !important;
    width: 100% !important;
  }

  .search-icon {
    left: calc(var(--space-md) + var(--space-sm)) !important;
  }

  .carreras-list {
    padding: var(--space-md) !important;
    max-height: 50vh !important;
  }

  .carrera-item {
    padding: var(--space-md) !important;
    gap: var(--space-md) !important;
    flex-wrap: nowrap !important;
  }

  .carrera-icon {
    width: 40px !important;
    height: 40px !important;
    flex-shrink: 0 !important;
  }

  .carrera-info {
    min-width: 0 !important;
    flex: 1 !important;
  }

  .carrera-nombre {
    font-size: 0.9375rem !important;
    word-break: break-word !important;
  }

  .carrera-area {
    font-size: 0.75rem !important;
  }

  .dificultad-section {
    padding: var(--space-lg) var(--space-md) !important;
  }

  .dificultad-grid {
    grid-template-columns: 1fr !important;
    gap: var(--space-sm) !important;
  }

  .dificultad-card {
    padding: var(--space-md) !important;
    min-height: 60px !important;
  }

  .selector-footer {
    flex-direction: column-reverse !important;
    padding: var(--space-md) !important;
    gap: var(--space-sm) !important;
  }

  .selector-footer button {
    width: 100% !important;
    justify-content: center !important;
    min-height: 44px !important;
  }

  /* === LECTOR CV === */
  .lector-container {
    padding: var(--space-sm) !important;
    gap: var(--space-md) !important;
    width: 100% !important;
  }

  .upload-section {
    padding: var(--space-md) !important;
  }

  .upload-area {
    padding: var(--space-xl) var(--space-lg) !important;
  }

  .file-info {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: var(--space-sm) !important;
  }

  .actions-row {
    width: 100% !important;
    flex-direction: column !important;
    gap: var(--space-sm) !important;
  }

  .actions-row button {
    width: 100% !important;
    min-height: 44px !important;
  }

  .results-grid {
    grid-template-columns: 1fr !important;
  }

  /* === HISTORIAL CV === */
  .historial-container {
    padding: var(--space-sm) !important;
    width: 100% !important;
  }

  .filters-row {
    flex-direction: column !important;
    gap: var(--space-sm) !important;
  }

  .filter-group {
    width: 100% !important;
  }

  .cv-card {
    padding: var(--space-md) !important;
  }

  .cv-card-header {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: var(--space-sm) !important;
  }

  .cv-actions {
    width: 100% !important;
    flex-direction: column !important;
    gap: var(--space-sm) !important;
  }

  .cv-actions button {
    width: 100% !important;
    min-height: 44px !important;
  }

  /* === PERFIL === */
  .perfil-container {
    padding: var(--space-sm) !important;
    gap: var(--space-md) !important;
    width: 100% !important;
  }

  .perfil-header {
    flex-direction: column !important;
    text-align: center !important;
    padding: var(--space-lg) !important;
  }

  .avatar-section {
    margin-right: 0 !important;
    margin-bottom: var(--space-md) !important;
  }

  .profile-avatar {
    width: 80px !important;
    height: 80px !important;
  }

  .info-section {
    align-items: center !important;
  }

  .perfil-sections {
    grid-template-columns: 1fr !important;
  }

  .section-card {
    padding: var(--space-md) !important;
  }

  .form-grid {
    grid-template-columns: 1fr !important;
  }

  .form-group input,
  .form-group select,
  .form-group textarea {
    width: 100% !important;
    min-height: 44px !important;
    font-size: 16px !important;
  }

  /* === HEADER === */
  .header-container {
    padding: var(--space-sm) var(--space-md) !important;
    height: 60px !important;
  }

  .header-content {
    gap: var(--space-sm) !important;
  }

  .header-logo {
    gap: var(--space-sm) !important;
  }

  .logo-icon {
    width: 32px !important;
    height: 32px !important;
  }

  .logo-text {
    font-size: 1rem !important;
  }

  .nav-menu {
    display: none !important;
  }

  .header-actions {
    gap: var(--space-sm) !important;
  }

  .user-menu {
    position: static !important;
  }

  .user-button {
    padding: var(--space-xs) !important;
  }

  .user-avatar {
    width: 36px !important;
    height: 36px !important;
  }

  .user-info {
    display: none !important;
  }

  .dropdown-menu {
    position: fixed !important;
    right: var(--space-md) !important;
    left: var(--space-md) !important;
    width: auto !important;
    min-width: unset !important;
  }

  /* === FOOTER === */
  .footer-container {
    padding: var(--space-lg) var(--space-md) !important;
    height: auto !important;
    min-height: 56px !important;
  }

  .footer-content {
    flex-direction: column !important;
    gap: var(--space-md) !important;
    text-align: center !important;
  }

  .footer-links {
    flex-direction: column !important;
    gap: var(--space-sm) !important;
  }

  /* === LOGIN / REGISTER === */
  .auth-container {
    padding: var(--space-md) !important;
  }

  .auth-card {
    padding: var(--space-xl) var(--space-lg) !important;
    max-width: 100% !important;
    width: 100% !important;
  }

  .auth-title {
    font-size: clamp(1.5rem, 5vw, 2rem) !important;
  }

  .social-login {
    flex-direction: column !important;
  }

  .social-button {
    width: 100% !important;
    min-height: 44px !important;
  }

  /* === RESULTADOS ENTREVISTA === */
  .resultados-container {
    padding: var(--space-sm) !important;
    width: 100% !important;
  }

  .score-display {
    width: 80px !important;
    height: 80px !important;
    font-size: 1.75rem !important;
  }

  .evaluacion-grid {
    grid-template-columns: 1fr !important;
  }

  .evaluacion-detalle-grid {
    grid-template-columns: 1fr !important;
  }

  /* === MODALES === */
  .modal-overlay {
    padding: 0 !important;
  }

  .modal-content {
    max-width: 100vw !important;
    max-height: 100vh !important;
    width: 100% !important;
    height: 100% !important;
    border-radius: 0 !important;
    margin: 0 !important;
  }

  .modal-header {
    padding: var(--space-lg) var(--space-md) !important;
  }

  .modal-body {
    padding: var(--space-md) !important;
  }

  .modal-footer {
    flex-direction: column-reverse !important;
    padding: var(--space-md) !important;
    gap: var(--space-sm) !important;
  }

  .modal-footer button {
    width: 100% !important;
    min-height: 44px !important;
  }

  /* === TABLAS === */
  .table-container {
    overflow-x: auto !important;
    width: 100% !important;
    -webkit-overflow-scrolling: touch !important;
  }

  table {
    min-width: 600px !important;
  }

  /* === CARDS === */
  .card,
  .feature-card,
  .stat-card {
    width: 100% !important;
    max-width: 100% !important;
  }

  /* === BOTONES GLOBALES === */
  button,
  .btn,
  .button {
    min-height: 44px !important;
    min-width: 44px !important;
    touch-action: manipulation !important;
  }

  /* === INPUTS GLOBALES === */
  input,
  textarea,
  select {
    -webkit-appearance: none !important;
    -moz-appearance: none !important;
    appearance: none !important;
  }

  /* === IMAGENES === */
  img {
    max-width: 100% !important;
    height: auto !important;
  }
}

/* ========== MOBILE SMALL: 320px - 480px ========== */
@media (max-width: 480px) {
  .greeting-text {
    font-size: 1.5rem !important;
  }

  .greeting-text .user-name {
    font-size: 1.5rem !important;
  }

  .entrevista-title {
    font-size: 1.125rem !important;
  }

  .selector-title {
    font-size: 1.25rem !important;
  }

  .stats-grid {
    grid-template-columns: 1fr !important;
  }
}

/* ========== TABLET: 768px - 1024px ========== */
@media (min-width: 768px) and (max-width: 1024px) {
  .welcome-header {
    flex-direction: row;
    flex-wrap: wrap;
  }

  .greeting-section {
    flex: 1 1 100%;
  }

  .time-section {
    flex: 1 1 auto;
    align-items: flex-end;
  }

  .features-grid {
    grid-template-columns: repeat(2, 1fr) !important;
  }

  .quick-actions-grid {
    grid-template-columns: repeat(2, 1fr) !important;
  }

  .stats-grid {
    grid-template-columns: repeat(4, 1fr) !important;
  }

  .entrevista-header {
    flex-direction: row;
    flex-wrap: wrap;
  }

  .mensaje {
    max-width: 75%;
  }

  .dificultad-grid {
    grid-template-columns: repeat(3, 1fr) !important;
  }

  .results-grid {
    grid-template-columns: repeat(2, 1fr) !important;
  }

  .perfil-sections {
    grid-template-columns: repeat(2, 1fr) !important;
  }

  .form-grid {
    grid-template-columns: repeat(2, 1fr) !important;
  }

  .nav-menu {
    display: flex !important;
  }

  .user-info {
    display: block !important;
  }
}

/* ========== LANDSCAPE MODE (Mobile) ========== */
@media (max-height: 600px) and (orientation: landscape) and (max-width: 900px) {
  .entrevista-container {
    height: calc(100vh - 50px - 40px) !important;
  }

  .entrevista-header {
    padding: var(--space-sm) !important;
  }

  .chat-box {
    padding: var(--space-sm) !important;
  }

  .selector-content {
    max-height: 100vh !important;
  }

  .carreras-list {
    max-height: 40vh !important;
  }

  .welcome-header {
    padding: var(--space-md) !important;
  }
}

/* ========== TOUCH DEVICES ========== */
@media (hover: none) and (pointer: coarse) {
  button:active,
  .clickable:active,
  .carrera-item:active,
  .dificultad-card:active {
    transform: scale(0.98);
    opacity: 0.9;
  }

  .carrera-item:hover::before,
  .dificultad-card:hover::before {
    display: none;
  }
}

/* ========== REDUCED MOTION ========== */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* ========== PRINT ========== */
@media print {
  .header-container,
  .footer-container,
  .sidebar,
  .floating-button,
  button {
    display: none !important;
  }

  * {
    box-shadow: none !important;
    text-shadow: none !important;
  }
}
